<!DOCTYPE html>
<html>

<body>
    <p>
        JavaScript 能够直接写入 HTML 输出流中：
    </p>
    <script>
    document.write("<h1>This is a heading</h1>");
    document.write("<p>This is a paragraph.</p>");

    </script>
    <p>
        您只能在 HTML 输出流中使用 <strong>document.write</strong>。 如果您在文档已加载后使用它（比如在函数中），会覆盖整个文档。
    </p>
    <h1>我的第一段JavaScript</h1>
    <p>JavaScript能够对事件作出反应。比如按钮的点击</p>
    <button type="button" onclick="alert('Welcome')">点击这里</button>

    
    <!--  javascipt改变HTML元素的内容 -->

    <p id="demo">
        JavaScript能改变HTML元素的内容
    </p>
    <script type="text/javascript">
    function fun1() {
        x = document.getElementById('demo')
        x.innerHTML = 'Hello javascript'
    }

    </script>
    <button type="button" onclick="fun1()">click 切换文字内容</button>
    <br />
    <br />

    <script type="text/javascript">
    function changeImage() {
        element = document.getElementById('myimage')
        if (element.src.match("bulbon")) {
            element.src = "eg_bulboff.gif";
        } else {
            element.src = "eg_bulbon.gif";
        }
    }

    </script>
    <img id="myimage" src="eg_bulboff.gif" onclick="changeImage()">


    <!--  javascipt改变样式 -->

    <p id="style">
        JavaScript能改变HTML元素的样式
    </p>
    <script type="text/javascript">
    function changeStyle() {
        x = document.getElementById('style')
        if (x.style.color == "rgb(255, 0, 0)") {
            x.style.color = "#00ffff"
        } else {
            x.style.color = "#ff0000"
        }
    }

    </script>
    <button type="button" onclick="changeStyle()">改变文字的style</button>
    <br />


    <!-- 数字检测 -->

    <p>请输入数字。如若输入值不是数字，浏览器会弹出提示框</p>
    <input id="inputNum" type="text">
    <script type="text/javascript">
    function checkNum() {
        var x = document.getElementById('inputNum').value;
        if (x == "" || isNaN(x)) {
            alert("Not Numeric")
        } else {
            alert("验证成功")
        }
    }

    </script>
    <button type="button" onclick="checkNum()">数字检测</button>
    <br />
    <br />
    <script type="text/javascript">
    x = 5 + 5
    document.write(x + '<br />')
    x = 5 + '5'
    document.write(x + '<br />')
    </script>


	<!-- 字符串运算 -->

    <h3>字符串相加的规则是：</h3>
    <p><strong>如果把数字和字符串相加，结果成为字符串</strong></p>


    <!-- 异常处理 -->

    <p>异常处理</p>
    <script type="text/javascript">
    var txt = ""

    function message() {
        try {
            addlert('welcome guest')
        } catch (err) {
            txt = "There was an error on this page.\n\n";
            txt += "Error description: " + err.message + "\n\n"
            txt += "Click Ok to continue.\n\n"
            alert(txt)
        }
    }

    </script>
    <button type="button" onclick="message()">查看消息</button>
    <script type="text/javascript">
    function exceptionFunc() {
        try {
            var x = document.getElementById('expDemo').value
            if (x == "") throw "empty";
            if (isNaN(x)) throw "not a number";
            if (x > 10) throw "too high";
            if (x < 5) throw "too low";
        } catch (err) {
            var y = document.getElementById('expMess');
            y.innerHTML = "Error:" + err + '.'
        }
    }

    </script>
    <h1>Throw exception示例</h1>
    <p>Please input a number between 5 and 10:</p>
    <input type="text" id='expDemo'>
    <button type="button" onclick="exceptionFunc()">Test input</button>
    <p id="expMess"></p>
    <br />


    <!-- 表单验证 -->

    <p>必填项目验证</p>
    <script type="text/javascript">
    function validate_required(field, alerttxt) {
        with(field) {
            if (value == null || value == "") {
                alert(alerttxt);
                return false
            } else {
                return true
            }
        }
    }

    function validate_form(thisform) {
        with(thisform) {
            if (validate_required(email, "Email must be filled out!") == false) {
                email.focus();
                return false
            }
        }
    }

    </script>
    <form action="https://www.baidu.com" onsubmit="return validate_form(this)" method="post">
        Email:
        <input type="text" name="email" size="30">
        <input type="submit" value="Submit">
    </form>
<!-- 
	input标签
	reset	定义重置按钮。重置按钮会清除表单中的所有数据。
	submit	定义提交按钮。提交按钮会把表单数据发送到服务器。
 -->
<!-- 
	Form 对象的 onsubmit 属性指定了一个事件句柄函数。当用户单击了表单中的 Submit 按钮而提交一个表单时，就会调用这个事件句柄函数。注意，当调用方法Form.submit() 时，该处理器函数不会被调用。
	如果 onsubmit 句柄返回 fasle，表单的元素就不会提交。如果该函数返回其他值或什么都没有返回，则表单会被提交。

	提示：由于 onsubmit 句柄可以取消表单的提交，所以它对于进行表单验证是十分理想的。
 -->


    <p>邮箱验证</p>
    <script type="text/javascript">
    function validate_email(field, alerttxt) {
        with(field) {
            apos = value.indexOf("@")
            dotpos = value.indexOf(".")
            if (apos < 1 || dotpos - apos < 2) {
            	alert(alerttxt);
            	return false
            }else {
            	return true
            }
        }
    }

    function validate_form(thisform) {
    	 console.log(thisform)

    	with(thisform) {
    		if(validate_email(email, "Not a valid a e-mail address!") == false) {
    			console.log(email)
    			email.focus();
    			return false;
    		}
    	}
    }
    </script>
    <form action="submitpage.htm" onsubmit="return validate_form(this);" method="post">
    	Email: <input type="text" name="email" size="30">
    	<input type="submit" value="Submit">
    </form>
</body>

</html>



<!-- 
	<input type="radio" id="radio1" name="radiogroup1" checked="checked" value="1"/>   
    <input type="radio" id="radio2" name="radiogroup1" value="2"/>   
    <input type="radio" id="radio3" name="radiogroup1" value="3"/>  

    document.getElementsByName('radiogroup1') 取得的是这三个控件，可以用document.getElementsByName('radiogroup1')[0] 取得的是第一个控件。   
 	document.getElementById('radio1')取得的是第一个控件，
 	document.getElementsByTagName('input') 取得的是这三个控件，可以用document.getElementsByTagName('input')[0] 取得的是第一个控件。

 	<br>是HTML写法。
	<br/>是XHTML1.1的写法，也是XML写法。
	<br />是XHTML为兼容HTML的写法，也是XML写法。
	因为HTML5兼容XHTML写法，所以三种都可以使用，没有区别。

	因为HTML是SGML的子集，SGML允许标签没有结束标签，而换行符元素正好不需要内嵌元素，也就不需要结束标签。所以在HTML中，应该写成<br>。因为XHTML是XML的子集，在XML中，标签必须要有结束标签。所以在XHTML中只写<br>是不符合语法的，必须写成<br></br>或简写成<br/>。而在XHTML的发展过程中，要做到兼容旧的HTML浏览器。而旧的HTML浏览器不理解（错误理解）这两种写法，对于第一种写法，某些浏览器估计会理解成两个<br>标签（我没有资料证明这一点），对于第二种写法，某些浏览器会理解成一个叫"br/"的标签。所以在兼容HTML的XHTML中我们通常把它写成<br />，这样在HTML解析中会理解成有一个叫"/"的属性的"br"标签，在XML解析中仍然会理解成<br></br>的简写，达到了两全其美的效果。
 -->
