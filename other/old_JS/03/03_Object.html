<!DOCTYPE html>
<html>

<body>
    <script>
    /*
        	JavaScript 是面向对象的语言，但 JavaScript 不使用类。
        	在JavaScript 中，不会创建类，也不会通过类来创建对象（就像在其他面向对象的语言中那样）。
        	JavaScript 基于 prototype，而不是基于类的。
            	*/
    function Person(firstname, lastname, age, eyecolor) {
        // 公有属性
        this.firstname = firstname;
        this.lastname = lastname;
        this.age = age;
        this.eyecolor = eyecolor;

        // 公有方法
        this.changeName = function(name) {
            this.lastname = name;
        }

        var that = this
        // 私有属性
        var weight = '200';

        function sayWeight() {
            // consolo.log(that.weight)
        }
    }
    // 设置构造器函数prototype指定的对象，即重置原型对象
    Person.prototype = {
        constructor: Person,
        sayHello: function() { console.log('Hi everybody') }
    }

    // 向prototype中添加成员将会把新方法添加到构造函数的底层中去
    Person.prototype.sayNO = function() {
        console.log('say no')
    };

    // 定义静态属性
    Person.height = 222

    // 定义静态方法
    Person.sayBaby = function() {
        console.log('hello baby')
    }

    p1 = new Person("Steve", "Jobs", 56, "green");
    document.write(p1.lastname + "<br />");
    p1.changeName("Ballmer");
    document.write(p1.lastname + "<br />");

    // 测试属性
    console.log(p1.firstname) // 实例属性
    console.log(Person.height) // 静态属性
    console.log(p1.constructor.height) // 想访问类的静态属性，先访问该实例的构造函数，然后在访问该类静态属性

    // 测试方法
    p1.sayHello() // 实例方法
    p1.sayNO() // 实例方法
    Person.sayBaby() // 静态方法
    p1.constructor.sayBaby() // 实例调用静态方法

    // 测试prototype
    console.log(p1.prototype) // undefined 实例对象没有prototype
    console.log(Person.prototype) // Object 
    console.log(Person.prototype.constructor) // 返回function Person(firstname, lastname, age, eyecolor) {...} 
    console.log(Person.prototype.constructor.height) // 相当于Person.height

    var x;
    var txt = ""
    var person = { fname: "Bill", lname: "Gates", age: 56 };

    for (x in person) {
    	console.log("person[" + x + "] = " + person[x])
        txt = txt + person[x] + ' '
    }
    document.write(txt + "<br />")

    </script>
</body>

</html>
